{{ define "main" }}
{{- if .Content -}}
  {{ .Content }}
{{- else -}}
  {{- $list := slice -}}
  {{- if eq .Kind "taxonomy" -}}
    {{- range .Pages -}}
      {{- $titleLower := lower .Title -}}
      {{- $list = $list | append (dict "titleLower" $titleLower "page" . ) -}}
    {{- end -}}
    <ul class="oin-list">
    {{ range sort $list ".titleLower" }}
      <li hugo-nav="{{.RelPermalink}}"><a {{printf "href=%q" .page.Permalink | safeHTMLAttr }}>{{.page.Title}}</a></li>
    {{- end -}}
    </ul>
  {{- else -}}
    {{- range .Pages -}}
      {{- $titleLower := lower .Title -}}
      {{- $list = $list | append (dict "titleLower" $titleLower "page" . ) -}}
    {{- end -}}
    <p class="package-count">
    {{- if eq (len .Pages) 1 -}}
      1 package. 
    {{- else -}}
      {{ len .Pages }} packages. 
    {{- end -}}
      &nbsp;List of Packages as Effective {{dateFormat "January 2, 2006" (index $.Site.Data.releases "11")}}
    </p>
    <ul class="oin-list">
    {{ $.Scratch.Set "count" 0 }}
    {{ range sort $list ".titleLower" }}
      {{ $.Scratch.Add "count" 1 }}
      <li hugo-nav="{{.RelPermalink}}"><a {{printf "href=%q" .page.Permalink | safeHTMLAttr }}>{{$.Scratch.Get "count"}}.&nbsp;&nbsp;&nbsp;{{.page.Title}}</a></li>
    {{- end -}}
    </ul>
  {{- end -}}
{{- end -}}
{{- end -}}
